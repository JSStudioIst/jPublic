!function(){var t,n="function"==typeof require?require(".."):window._;QUnit.module("utility",{beforeEach:function(){t=n.clone(n.templateSettings)},afterEach:function(){n.templateSettings=t}}),QUnit.test("获取随机数：getRandom",function(t){var a=n.range(1e3),e=Math.pow(2,31),o=Math.pow(2,62);t.ok(n.every(a,function(){return n.getRandom(e,o)>=e}),"是否应该产生一个大于或等于最小值的随机数"),t.ok(n.some(a,function(){return 0<n.getRandom(Number.MAX_VALUE)}),"当传递“Number.MAX_VALUE”时，应该生成一个随机数")}),QUnit.test("字节格式化：formatBytes",function(t){t.ok("1 KB"==n.formatBytes(1024),"1KB转换正确"),t.ok("1 KB"==n.formatBytes("1024"),"1KB转换正确"),t.ok("1.21 KB"==n.formatBytes(1234),"1.21KB转换正确"),t.ok("1.205 KB"==n.formatBytes(1234,3),"1.205KB转换正确")}),QUnit.test("比较两个数值的大小：numCompare",function(t){t.ok(-1==n.numCompare(3,5),"3<5,判断正确"),t.throws(function(){n.numCompare("ab",3)},"ab与3是不同类型无法判断"),t.ok(0==n.numCompare(3,3),"3>3，两个数值相等,判断错误"),t.ok(-1==n.numCompare(.1,.11),"0.1<0.11,判断正确"),t.ok(1==n.numCompare(-1,-2),"-1>-2,判断正确"),t.ok(1==n.numCompare(0,-1),"0>-1,判断正确")}),QUnit.test("去左空格：ltrim",function(t){t.ok("abcdegfg"==n.ltrim("    abcdegfg"," "),"    abcdegfg去除左空格成功"),t.ok("dff  fad"==n.ltrim("  dff  fad"," "),"  dff  fad去除左空格成功"),t.ok("dff  fad"==n.ltrim("dff  fad"," "),"dff  fad去除左空格成功"),t.ok("_ad"==n.ltrim("_ad"," "),"_ad不含左空格")}),QUnit.test("去右空格：rtrim",function(t){t.ok("abcdegfg"==n.rtrim("abcdegfg     "," "),"abcdegfg     去除右空格成功"),t.ok("abcd  egfg"==n.rtrim("abcd  egfg     "," "),"abcd  egfg     去除右空格成功"),t.ok("abcd  egfg"==n.rtrim("abcd  egfg"," "),"abcd  egfg去除右空格成功"),t.ok("ab——"==n.rtrim("ab——"," "),"ab——不含右空格")}),QUnit.test("判断是否为数组:_.isArray",function(t){t.ok(1==n.isArray([1,2,3]),"[1,2,3]是数组"),t.ok(1==n.isArray([[1],[3]]),"[[1],[3]]是数组"),t.ok(1==n.isArray([1]),"[1]是数组"),t.ok(1==n.isArray([1],[2]),"[1],[2]是数组"),t.ok(0==n.isArray({1:2}),"{1:2}不是数组"),t.ok(0==n.isArray("a"),"字母a不是数组"),t.ok(0==n.isArray("a"),'"a"不是数组'),t.ok(0==n.isArray(123),"123不是数组"),t.ok(0==n.isArray(null),"null不是数组"),t.ok(0==n.isArray(!0),"true不是数组"),t.ok(0==n.isArray(void 0),"undefinded不是数组")}),QUnit.test("判断是否为数值： _.isNumeric",function(t){for(var a=[123,83,"123",0,123.12,123,-123,"-12",[1],[1,2],255,"0xFF",8e5,"8e5","a",["a"],{11:2},null,!0],e=0;e<a.length;e++){var o=n.isNumeric(a[e]);o?t.ok(o,a[e]+"是数值"):t.notOk(o,a[e]+"不是数值")}}),QUnit.test("阿拉伯数字转中文数字： _.cl",function(t){t.ok("十万零一百一十一"==n.cl("100111",{tenMin:!0})),t.ok("一十万零一百一十一"==n.cl("100111")),t.ok("十三点五"==n.cl("13.5",{tenMin:!0})),t.ok("一亿亿"==n.cl(1e16))}),QUnit.test("固定获取月份第一天：_.firstDay",function(t){t.ok("2019-05-01 00:00:00"==n.dateFormat(n.firstDay(new Date("2019-05-09 06:20:30"))),"2019年5月的第一天是2019-05-01")}),QUnit.test("固定获取月份最后一天：_.firstDay",function(t){t.ok("2019-11-30 00:00:00"==n.dateFormat(n.lastDay(new Date("2019-11-1 06:20:30"))),"2019年11月的最后一天是2019-11-30"),t.ok("2019-12-31 00:00:00"==n.dateFormat(n.lastDay(new Date("2019-12-1 06:20:30"))),"2019年12月的最后一天是2019-12-31"),t.ok("2019-02-28 00:00:00"==n.dateFormat(n.lastDay(new Date("2019-2-3 06:20:30"))),"2019年2月的最后一天是2019-02-28")}),QUnit.test("获取随机日期：_.getRandomDate",function(t){t.ok(n.dateFormat(n.getRandomDate()),"随机日期"+n.dateFormat(n.getRandomDate()))}),QUnit.test("随机获取月份第一天：_.firstDay",function(t){var a=new Date;a=n.getRandomDate(),t.ok(n.dateFormat(n.firstDay(a)),n.dateFormat(a)+"的第一天是"+n.dateFormat(n.firstDay(a)))}),QUnit.test("随机获取月份最后一天：_.lastDay",function(t){var a=new Date;a=n.getRandomDate(),t.ok(n.dateFormat(n.lastDay(a)),n.dateFormat(a)+"的最后一天是"+n.dateFormat(n.lastDay(a)))}),QUnit.test(" 数组差集:_.difference",function(t){t.ok(n.equals(n.difference([1,2],[1,2]),[]),"pass"),t.ok(n.equals(n.difference([1,2,3],[1,2]),[3]),"pass"),t.ok(n.equals(n.difference([1,2,3],[4,5,6]),[1,2,3]),"pass"),t.ok(n.equals(n.difference(["a","b"],["a"]),["b"]),"pass"),t.ok(n.equals(n.difference(["a","b"],["b"]),["a"]),"pass")})}();